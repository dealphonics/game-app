<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Soundkeeper ‚Ä¢ Stabilize</title>
  <link rel="stylesheet" href="./css/styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">üéµ Soundkeeper</div>
      <div class="tagline">–ò–≥—Ä–∞–π –∏ –æ—Ç–∫—Ä—ã–≤–∞–π –º—É–∑—ã–∫—É</div>
    </header>

    <section class="stats">
      <div class="stat">
        <div class="stat-value" id="statScore">0</div>
        <div class="stat-label">–û—á–∫–∏</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="statTracks">0/20</div>
        <div class="stat-label">–¢—Ä–µ–∫–∏</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="statLevel">1</div>
        <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å</div>
      </div>
    </section>

    <section class="actions">
      <button id="btnPlay" class="btn primary">üéØ –ò–≥—Ä–∞—Ç—å (–ü–æ–ø–∞–¥–∏ –≤ —Ü–µ–ª—å)</button>
      <button id="btnMusic" class="btn accent">üéµ –ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</button>
    </section>
  </div>

  <!-- Game modal -->
  <div id="gameModal" class="modal" style="display:none">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">üéØ –ü–æ–ø–∞–¥–∏ –≤ —Ü–µ–ª—å</div>
        <button class="modal-close" data-close="gameModal">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="game-info">
          <div><b>–°—á—ë—Ç:</b> <span id="gameScore">0</span></div>
          <div><b>–í—Ä–µ–º—è:</b> <span id="gameTime">0:00</span></div>
        </div>
        <div class="game-frame">
          <canvas id="gameCanvas" width="320" height="420"></canvas>
        </div>
        <div class="game-controls">
          <button id="btnRestart" class="btn">üîÑ –ó–∞–Ω–æ–≤–æ</button>
          <button id="btnPause" class="btn">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Music modal -->
  <div id="musicModal" class="modal" style="display:none">
    <div class="modal-content solid">
      <div class="modal-header">
        <div class="modal-title">üéµ –ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</div>
        <button class="modal-close" data-close="musicModal">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="album-picker">
          <input id="albumSearch" type="search" placeholder="–ù–∞–π—Ç–∏ –∞–ª—å–±–æ–º (Karmageddon / –ü—Å–∏—Ö–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–æ–ø)" list="albumsData" />
          <datalist id="albumsData">
            <option value="Karmageddon"></option>
            <option value="–ü—Å–∏—Ö–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–æ–ø"></option>
          </datalist>
        </div>
        <div id="tracksList"></div>
      </div>
    </div>
  </div>

  <!-- Mini Player -->
  <div id="playerBar" class="player-bar">
    <div class="player-meta">
      <div id="playerTitle" class="player-title">–ù–µ—Ç —Ç—Ä–µ–∫–∞</div>
      <div id="playerArtist" class="player-artist">‚Äî</div>
    </div>
    <div class="player-controls">
      <button id="playerPrev" class="pbtn" title="–ü—Ä–µ–¥—ã–¥—É—â–∏–π">‚èÆÔ∏è</button>
      <button id="playerPlay" class="pbtn" title="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏/–ü–∞—É–∑–∞">‚ñ∂Ô∏è</button>
      <button id="playerNext" class="pbtn" title="–°–ª–µ–¥—É—é—â–∏–π">‚è≠Ô∏è</button>
    </div>
  </div>

  <div id="toast" class="toast hidden"></div>

  <script src="./js/tg.js"></script>
  <script src="./js/game_target.js"></script>
  <script src="./js/music.js"></script>
  <script src="./js/main.js"></script>
</body>
</html>
